"use strict";function c(t){return t.replace(/http(s)?:/,"")}function r(t="",e,n){const o=new RegExp("([?&])"+e+"=.*?(&|$)","i"),i=t.indexOf("?")!==-1?"&":"?";return t.match(o)?t.replace(o,"$1"+e+"="+encodeURIComponent(n)+"$2"):t+i+e+"="+encodeURIComponent(n)}function a(t,e){if(!t||!(t!=null&&t.match(/cdn\.shopify\.com/))||!e)return t;if(e==="master")return c(t);const n=t.match(/(_\d+x(\d+)?)?(\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?)/i);if(n){const o=t.split(n[0]),i=n[3],f=e.match("x")?e:`${e}x`;return c(`${o[0]}_${f}${i}`)}return null}function p(t){if(!t)return t;const e=[100,200,400,800,1200,1600,2e3];if(t.match(/builder\.io/)){let n=t;const o=Number(t.split("?width=")[1]);return isNaN(o)||(n=`${n} ${o}w`),e.filter(i=>i!==o).map(i=>`${r(t,"width",i)} ${i}w`).concat([n]).join(", ")}return t.match(/cdn\.shopify\.com/)?e.map(n=>[a(t,`${n}x${n}`),n]).filter(([n])=>!!n).map(([n,o])=>`${n} ${o}w`).concat([t]).join(", "):t}exports.getSrcSet=p;

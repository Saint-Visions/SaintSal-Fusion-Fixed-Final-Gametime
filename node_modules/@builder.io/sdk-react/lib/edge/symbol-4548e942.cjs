"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const y=require("react/jsx-runtime"),r=require("react"),E=require("./blocks-exports.cjs"),g=require("./get-class-prop-name-f470d5ce.cjs"),b=require("./server-entry-67200cf1.cjs"),h=async({builderContextValue:e,symbol:n})=>{if(n!=null&&n.model&&(e!=null&&e.apiKey))return b.fetchOneEntry({model:n.model,apiKey:e.apiKey,apiVersion:e.apiVersion,...(n==null?void 0:n.entry)&&{query:{id:n.entry}}}).catch(c=>{b.logger.error("Could not fetch symbol content: ",c)})};function j(e){var a,l,u,d,s;function n(){return"div"}function c(){return"div"}function f(){return Object.values(e.builderComponents)}function C(){var t,o;return[e.attributes[g.getClassPropName()],"builder-symbol",(t=e.symbol)!=null&&t.inline?"builder-inline-symbol":void 0,(o=e.symbol)!=null&&o.dynamic||e.dynamic?"builder-dynamic-symbol":void 0].filter(Boolean).join(" ")}const[i,v]=r.useState(()=>{var t;return(t=e.symbol)==null?void 0:t.content}),[k,x]=r.useState(()=>{var t;return(t=e.symbol)==null?void 0:t.entry});function S(){var t;i&&k===((t=e.symbol)==null?void 0:t.entry)||h({symbol:e.symbol,builderContextValue:e.builderContext}).then(o=>{var m;o&&(v(o),x((m=e.symbol)==null?void 0:m.entry))})}return r.useEffect(()=>{},[]),r.useEffect(()=>{S()},[e.symbol]),y.jsx("div",{...e.attributes,className:C(),children:y.jsx(E.Content,{nonce:e.builderContext.nonce,isNestedRender:!0,apiVersion:e.builderContext.apiVersion,apiKey:e.builderContext.apiKey,context:{...e.builderContext.context,symbolId:(a=e.builderBlock)==null?void 0:a.id},customComponents:f(),data:{...(l=e.symbol)==null?void 0:l.data,...e.builderContext.localState,...(u=i==null?void 0:i.data)==null?void 0:u.state},canTrack:e.builderContext.canTrack,model:(s=(d=e.symbol)==null?void 0:d.model)!=null?s:"",content:i,linkComponent:e.builderLinkComponent,blocksWrapper:n(),contentWrapper:c()})})}exports.default=j;
